# ליאור'ס ברוקר - מערכת ניתוח תיק השקעות מתקדמת

מערכת מתוחכמת לניתוח תיק מניות המספקת המלצות מבוססות על ניתוח טכני, סטטיסטי, חדשות וטרנדים.

## תכונות

- **ניתוח תיק מתקדם**: ניתוח מעמיק של כל החזקה בתיק כולל אינדיקטורים טכניים, סנטימנט חדשות, ומדדי ביצועים
- **המלצות איזון מחדש**: זיהוי אוטומטי של צורך באיזון מחדש של התיק
- **ייעוץ הפקדות**: המלצות חכמות על אילו ETF לקנות בעת הפקדת כספים חדשים
- **ניתוח מגוון**: זיהוי פערים בהשקעות והמלצות על פיזור טוב יותר

## התקנה

```bash
make setup
```

או באופן ידני:

```bash
pip install -r requirements.txt
```

## שימוש

### ניתוח תיק נוכחי

```bash
make analyze
```

פקודה זו:
- קוראת את התיק הנוכחי מקובץ `portfolio.json`
- מעדכנת מחירים נוכחיים
- מבצעת ניתוח מעמיק של כל החזקה
- מספקת המלצות על איזון מחדש
- מעדכנת את קובץ `portfolio.json` עם נתונים עדכניים

### ייעוץ הפקדה

```bash
make deposit
```

פקודה זו:
- מבקשת ממך להכניס סכום הפקדה בשקלים
- מנתחת את התיק הנוכחי
- בודקת מאות ETF פוטנציאליים
- מספקת המלצות מפורטות על אילו ETF לקנות
- מציינת האם לקנות חדשים או להגדיל החזקות קיימות

## מבנה קבצים

- `portfolio_analyzer.py` - מודול ניתוח התיק הראשי
- `deposit_advisor.py` - מודול ייעוץ הפקדות
- `portfolio.json` - קובץ JSON המכיל את התיק הנוכחי
- `Makefile` - פקודות make
- `requirements.txt` - תלויות Python

## פורמט portfolio.json

```json
{
  "cash": 172.74,
  "holdings": [
    {
      "ticker": "XLV",
      "quantity": 6,
      "last_price": 154.8,
      "current_value": 928.8
    }
  ],
  "last_updated": "2024-01-01T12:00:00",
  "total_value": 7250.08
}
```

## משתני סביבה (אופציונלי)

לשימוש מלא בתכונות (חדשות, API נוספות), הוסף קובץ `.env`:

```
NEWS_API_KEY=your_news_api_key
ALPHA_VANTAGE_KEY=your_alpha_vantage_key
```

## הערות

- המערכת משתמשת ב-yfinance לקבלת נתוני שוק
- ניתוח מבוסס על אינדיקטורים טכניים, סנטימנט, ומגמות
- המלצות הן להתייחסות בלבד ואינן מהוות ייעוץ השקעות מקצועי

